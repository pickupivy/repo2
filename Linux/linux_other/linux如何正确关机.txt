
关于halt关闭ubuntu系统会卡死的现象：U10.4和DEBIAN6都是一样的有这个毛病，尽量避免用这个命令吧，shutdown和init 0都可以的。halt要带参数的不然系统关闭后不会关掉电源会停在一个让你手动关电源的提示上。可以加上参数 halt -p。但-p实际上是poweroff，而且无视前面的halt命令，所以halt -p 等同于poweroff。所以halt这个命令不要用。

我们较常使用的是shutdown/poweroff这个命令，这个命令可以安全地关闭或重启Linux系统，它在系统关闭之前给系统上的所有登录用户提示一条警告信息。

该命令还允许用户指定一个时间参数，可以是一个精确的时间，也可以是从现在开始的一个时间段。

精确时间的格式是hh:mm，表示小时和分钟，时间段由+ 和分钟数表示。
系统执行该命令后会自动进行数据同步的工作。

需要特别说明的是该命令只能由超级用户使用。

shutdown可以达成如下的工作：

可以自由选择关机模式：是要关机、重新启动或进入单人操作模式均可；
可以配置关机时间：可以配置成现在立刻关机, 也可以配置某一个特定的时间才关机。
可以自定义关机信息：在关机之前，可以将自己配置的信息传送给在线user 。
可以仅发出警告信息：有时有可能你要进行一些测试，而不想让其他的使用者干扰，或者是明白的告诉使用者某段时间要注意一下！这个时候可以使用 shutdown 来吓一吓使用者，但却不是真的要关机！
可以选择是否要fsck检查文件系统。

# /sbin/shutdown [-t 秒] [-arkhncfF] 时间 [警告信息]

选项与参数：

-t sec ： -t 后面加秒数，亦即『过几秒后关机』的意思

-k     ： 不要真的关机，只是发送警告信息出去！

-r     ： 在将系统的服务停掉之后就重新启动(常用)

-h     ： 将系统的服务停掉后，立即关机。 (常用)

-n     ： 不经过 init 程序，直接以 shutdown 的功能来关机

-f     ： 关机并启动之后，强制略过 fsck 的磁盘检查

-F     ： 系统重新启动之后，强制进行 fsck 的磁盘检查

-c     ： 取消已经在进行的 shutdown 命令内容。

时间   ： 这是一定要加入的参数！指定系统关机的时间！时间的范例底下会说明。

[root@www ~]# shutdown -h now

立刻关机，其中 now 相当于时间为 0 的状态

[root@www ~]# shutdown -h 20:25

系统在今天的 20:25 分会关机，若在21:25才下达此命令，则隔天才关机

[root@www ~]# shutdown -h +10

系统再过十分钟后自动关机

[root@www ~]# shutdown -r now

系统立刻重新启动

[root@www ~]# shutdown -r +30 'The system will reboot'  

再过三十分钟系统会重新启动，并显示后面的信息给所有在在线的使用者

[root@www ~]# shutdown -k now 'This system will reboot'  

仅发出警告信件的参数！系统并不会关机啦！吓唬人！


Linux共有七种运行等级

run level 0：关机
run level 3：纯文本模式
run level 5：含有图形接口模式
run level 6：重新启动
       那如何切换各模式呢？可以使用init这个命令来处理！也就是说，如果你想要关机的话，除了上述的shutdown -h now以及poweroff之外，你也可以使用如下的命令来关机：

[root@www ~]# init 0